# Evolution API - Configuração para Cloud Run
# Projeto Supabase: finance-manager (compartilhado com app de finanças)

# ============================================
# CONFIGURAÇÕES BÁSICAS DO SERVIDOR
# ============================================
SERVER_NAME=evolution
SERVER_TYPE=http
SERVER_PORT=8080
# Será atualizado após o primeiro deploy
SERVER_URL=http://localhost:8080

# ============================================
# SEGURANÇA - OBRIGATÓRIO
# ============================================
AUTHENTICATION_API_KEY=96e994a18609fc3a2f1c368a9bb5a34e22e14e47a1d00b169f4a71568aa4ca7f
AUTHENTICATION_EXPOSE_IN_FETCH_INSTANCES=true

# ============================================
# BANCO DE DADOS - SUPABASE (finance-manager)
# ============================================
DATABASE_PROVIDER=postgresql
# Schema separado: evolution_api (não interfere com schema public do app de finanças)
DATABASE_CONNECTION_URI=postgresql://postgres.oicxuvhipooxbhnfvsce:kiY3xyBrjis0hwmA@aws-0-us-east-1.pooler.supabase.com:6543/postgres?schema=evolution_api
DATABASE_CONNECTION_CLIENT_NAME=evolution_cloudrun

# Dados a salvar no banco
DATABASE_SAVE_DATA_INSTANCE=true
DATABASE_SAVE_DATA_NEW_MESSAGE=true
DATABASE_SAVE_MESSAGE_UPDATE=true
DATABASE_SAVE_DATA_CONTACTS=true
DATABASE_SAVE_DATA_CHATS=true
DATABASE_SAVE_DATA_LABELS=true
DATABASE_SAVE_DATA_HISTORIC=true
DATABASE_SAVE_IS_ON_WHATSAPP=true
DATABASE_SAVE_IS_ON_WHATSAPP_DAYS=7
DATABASE_DELETE_MESSAGE=true

# ============================================
# CACHE - LOCAL (sem Redis para simplicidade)
# ============================================
CACHE_REDIS_ENABLED=false
CACHE_LOCAL_ENABLED=true

# ============================================
# CORS
# ============================================
CORS_ORIGIN=*
CORS_METHODS=GET,POST,PUT,DELETE
CORS_CREDENTIALS=true

# ============================================
# LOGS
# ============================================
LOG_LEVEL=ERROR,WARN,INFO,LOG
LOG_COLOR=false
LOG_BAILEYS=error

# ============================================
# SESSÃO WHATSAPP
# ============================================
CONFIG_SESSION_PHONE_CLIENT=Evolution API
CONFIG_SESSION_PHONE_NAME=Chrome
QRCODE_LIMIT=30
QRCODE_COLOR=#175197

# ============================================
# TELEMETRIA
# ============================================
TELEMETRY_ENABLED=false

# ============================================
# WEBHOOK (Desabilitado por padrão)
# ============================================
WEBHOOK_GLOBAL_ENABLED=false
WEBHOOK_EVENTS_QRCODE_UPDATED=true
WEBHOOK_EVENTS_MESSAGES_UPSERT=true
WEBHOOK_EVENTS_CONNECTION_UPDATE=true

# ============================================
# INTEGRAÇÕES (Todas desabilitadas)
# ============================================
RABBITMQ_ENABLED=false
SQS_ENABLED=false
WEBSOCKET_ENABLED=false
TYPEBOT_ENABLED=false
CHATWOOT_ENABLED=false
OPENAI_ENABLED=false
DIFY_ENABLED=false
N8N_ENABLED=false
EVOAI_ENABLED=false
S3_ENABLED=false
KAFKA_ENABLED=false
PUSHER_ENABLED=false

# ============================================
# GERENCIAMENTO DE INSTÂNCIAS
# ============================================
DEL_INSTANCE=false

# ============================================
# IDIOMA
# ============================================
LANGUAGE=pt

# ============================================
# OUTROS
# ============================================
EVENT_EMITTER_MAX_LISTENERS=50
